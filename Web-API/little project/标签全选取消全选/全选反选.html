<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Document</title>

  <style>
    * {
      margin: 0;
      padding: 0;
    }

    table {
      width: 300px;
      margin: 100px auto;
      text-align: center;
      font-size: 14px;
      border-collapse: collapse;
      /*边框是否被合并为一个单一的边框 */
      border: 1px solid #c0c0c0;
    }

    thead {
      color: white;
      background-color: rgb(32, 165, 218);
    }

    th,
    td {
      border: 1px solid #d0d0d0;
      padding: 10px;
    }

    tbody {
      background-color: #f0f0f0;
    }
  </style>
</head>

<body>

  <table>
    <thead>
      <tr>
        <th><input type="checkbox" id="c_all" /></th>
        <th>商品</th>
        <th>价值</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><input type="checkbox" class="c_ones" /></td>
        <td>iPhone8</td>
        <td>8000</td>
      </tr>
      <tr>
        <td><input type="checkbox" class="c_ones" /></td>
        <td>iPad Pro</td>
        <td>5000</td>
      </tr>
      <tr>
        <td><input type="checkbox" class="c_ones" /></td>
        <td>iPad Air</td>
        <td>2000</td>
      </tr>
      <tr>
        <td><input type="checkbox" class="c_ones" /></td>
        <td>Apple Watch</td>
        <td>2000</td>
      </tr>
    </tbody>
  </table>

  <script>
    var c_all = document.getElementById('c_all');
    var c_ones = document.getElementsByClassName('c_ones');
    c_all.onclick = function () {
      for (var i = 0; i < c_ones.length; i++) {
        c_ones[i].checked = this.checked;
        // this.checked 它可以得到当前复选框的选中状态如果是true 就是选中，如果是false 就是未选中
      }
    };


    //下面复选框需要全部选中， 上面全选才能选中做法： 给下面所有复选框绑定点击事件，每次点击，都要循环查看下面所有的复选框是否有没选中的，如果有一个没选中的， 上面全选就不选中。
    for (var i = 0; i < c_ones.length; i++) {
      c_ones[i].onclick = function () {
        // flag 控制全选按钮是否选中
        var flag = true;
        // 每次点击下面的复选框都要循环检查者4个小按钮是否全被选中
        for (var i = 0; i < c_ones.length; i++) {
          if (!c_ones[i].checked) {
            flag = false;
            break; // 退出for循环 这样可以提高执行效率 因为只要有一个没有选中，剩下的就无需循环判断了
          }
        }
        c_all.checked = flag;
      }
    }
  </script>
</body>

</html>